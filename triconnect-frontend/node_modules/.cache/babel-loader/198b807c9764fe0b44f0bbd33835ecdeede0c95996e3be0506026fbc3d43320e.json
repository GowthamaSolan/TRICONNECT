{"ast":null,"code":"/**\r\n * Image URL utility functions\r\n * Constructs proper image URLs based on the API base URL\r\n */\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\nconst SERVER_BASE_URL = API_BASE_URL.replace('/api', '');\n\n/**\r\n * Constructs the full image URL\r\n * If posterUrl is already a full URL (starts with http), returns as is\r\n * Otherwise appends to server base URL\r\n * @param {string} posterUrl - The poster URL from database\r\n * @returns {string} - Full image URL\r\n */\nexport const getImageUrl = posterUrl => {\n  if (!posterUrl) return '';\n\n  // If it's already a full URL, return as is\n  if (posterUrl.startsWith('http://') || posterUrl.startsWith('https://')) {\n    return posterUrl;\n  }\n\n  // If it's a relative path, construct the full URL\n  if (posterUrl.startsWith('/')) {\n    return `${SERVER_BASE_URL}${posterUrl}`;\n  }\n\n  // Otherwise prepend the server base URL\n  return `${SERVER_BASE_URL}/${posterUrl}`;\n};\n\n/**\r\n * Handles image load errors\r\n * @param {Event} e - The error event\r\n */\nexport const handleImageError = e => {\n  e.target.src = 'data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"200\" height=\"200\"><rect fill=\"%23f0f0f0\" width=\"200\" height=\"200\"/><text x=\"50%\" y=\"50%\" dominant-baseline=\"middle\" text-anchor=\"middle\" fill=\"%23999\" font-size=\"14\">Image Not Found</text></svg>';\n};\nexport default {\n  getImageUrl,\n  handleImageError\n};","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","SERVER_BASE_URL","replace","getImageUrl","posterUrl","startsWith","handleImageError","e","target","src"],"sources":["C:/Users/Gowthama Solan/Desktop/gowtham/Final Year project/triconnect-frontend/src/utils/imageUtils.js"],"sourcesContent":["/**\r\n * Image URL utility functions\r\n * Constructs proper image URLs based on the API base URL\r\n */\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\nconst SERVER_BASE_URL = API_BASE_URL.replace('/api', '');\r\n\r\n/**\r\n * Constructs the full image URL\r\n * If posterUrl is already a full URL (starts with http), returns as is\r\n * Otherwise appends to server base URL\r\n * @param {string} posterUrl - The poster URL from database\r\n * @returns {string} - Full image URL\r\n */\r\nexport const getImageUrl = (posterUrl) => {\r\n  if (!posterUrl) return '';\r\n  \r\n  // If it's already a full URL, return as is\r\n  if (posterUrl.startsWith('http://') || posterUrl.startsWith('https://')) {\r\n    return posterUrl;\r\n  }\r\n  \r\n  // If it's a relative path, construct the full URL\r\n  if (posterUrl.startsWith('/')) {\r\n    return `${SERVER_BASE_URL}${posterUrl}`;\r\n  }\r\n  \r\n  // Otherwise prepend the server base URL\r\n  return `${SERVER_BASE_URL}/${posterUrl}`;\r\n};\r\n\r\n/**\r\n * Handles image load errors\r\n * @param {Event} e - The error event\r\n */\r\nexport const handleImageError = (e) => {\r\n  e.target.src = 'data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"200\" height=\"200\"><rect fill=\"%23f0f0f0\" width=\"200\" height=\"200\"/><text x=\"50%\" y=\"50%\" dominant-baseline=\"middle\" text-anchor=\"middle\" fill=\"%23999\" font-size=\"14\">Image Not Found</text></svg>';\r\n};\r\n\r\nexport default { getImageUrl, handleImageError };\r\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA,MAAMA,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,2BAA2B;AACjF,MAAMC,eAAe,GAAGJ,YAAY,CAACK,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;;AAExD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,WAAW,GAAIC,SAAS,IAAK;EACxC,IAAI,CAACA,SAAS,EAAE,OAAO,EAAE;;EAEzB;EACA,IAAIA,SAAS,CAACC,UAAU,CAAC,SAAS,CAAC,IAAID,SAAS,CAACC,UAAU,CAAC,UAAU,CAAC,EAAE;IACvE,OAAOD,SAAS;EAClB;;EAEA;EACA,IAAIA,SAAS,CAACC,UAAU,CAAC,GAAG,CAAC,EAAE;IAC7B,OAAO,GAAGJ,eAAe,GAAGG,SAAS,EAAE;EACzC;;EAEA;EACA,OAAO,GAAGH,eAAe,IAAIG,SAAS,EAAE;AAC1C,CAAC;;AAED;AACA;AACA;AACA;AACA,OAAO,MAAME,gBAAgB,GAAIC,CAAC,IAAK;EACrCA,CAAC,CAACC,MAAM,CAACC,GAAG,GAAG,sQAAsQ;AACvR,CAAC;AAED,eAAe;EAAEN,WAAW;EAAEG;AAAiB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}